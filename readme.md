<!-- ![PostgreSQL Logo](https://cdn.worldvectorlogo.com/logos/postgresql.svg) -->
![PostgreSQL Logo](https://i.ibb.co/21qfSFSj/postgresql.png)

# ЁЯРШ PostgreSQL Explained in Bangla: Dive into the Core Concepts

ржПржЗ ржЧрж╛ржЗржбржЯрж┐ PostgreSQL-ржПрж░ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржзрж╛рж░ржгрж╛ржЧрзБрж▓рзЛрж░ ржЙржкрж░ ржПржХржЯрж┐ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржУ рж╕рзБржЧржарж┐ржд ржЖрж▓рзЛржЪржирж╛ ржЙржкрж╕рзНржерж╛ржкржи ржХрж░рзЗред ржЖржкржирж┐ ржпржжрж┐ ржбрзЗржЯрж╛ржмрзЗржЗрж╕ рж╢рзЗржЦрж╛ рж╢рзБрж░рзБ ржХрж░рзЗ ржерж╛ржХрзЗржи, PostgreSQL ржирж┐рзЯрзЗ ржХрж╛ржЬ ржХрж░рждрзЗ ржЪрж╛ржи, ржЕржержмрж╛ ржмрж░рзНрждржорж╛ржирзЗ ржПржХржЯрж┐ ржбрзЗржЯрж╛ржмрзЗржЗрж╕-ржнрж┐рждрзНрждрж┐ржХ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рждрзИрж░рж┐ ржХрж░ржЫрзЗржи тАФ рждрж╛рж╣рж▓рзЗ ржПржЗ README ржЖржкржирж╛рж░ ржЬржирзНржп ржПржХржжржо ржЙржкржпрзБржХрзНрждред ржПржЯрж┐ ржЖржкржирж╛ржХрзЗ PostgreSQL рж╕ржорзНржкрж░рзНржХрзЗ ржорзМрж▓рж┐ржХ ржерзЗржХрзЗ рж╢рзБрж░рзБ ржХрж░рзЗ ржкрзНрж░рзЯрзЛржЬржирзАрзЯ ржмрж┐рж╖рзЯржЧрзБрж▓рзЛ ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржгрж╕рж╣ рж╢рж┐ржЦрждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░ржмрзЗред

---

## ЁЯУЛ Table of Contents

* [PostgreSQL ржХрзА?](#-postgresql-ржХрж┐)
* [ржбрзЗржЯрж╛ржмрзЗрж╕ рж╕рзНржХрж┐ржорж╛ ржХрзА ржПржмржВ ржХрзЗржи ржжрж░ржХрж╛рж░?](#-ржбрзЗржЯрж╛ржмрзЗрж╕-рж╕рзНржХрж┐ржорж╛-ржХрж┐-ржПржмржВ-ржХрзЗржи-ржжрж░ржХрж╛рж░)
* [Primary Key ржУ Foreign Key ржмрзНржпрж╛ржЦрзНржпрж╛](#-primary-key-ржУ-foreign-key-ржмрзНржпрж╛ржЦрзНржпрж╛)
* [VARCHAR ржмржирж╛ржо CHAR ржбрзЗржЯрж╛ ржЯрж╛ржЗржк](#-varchar-ржмржирж╛ржо-char-ржбрзЗржЯрж╛-ржЯрж╛ржЗржк)
* [WHERE ржХрзНрж▓ржЬрзЗрж░ ржЙржжрзНржжрзЗрж╢рзНржп](#-where-ржХрзНрж▓ржЬрзЗрж░-ржЙржжрзНржжрзЗрж╢рзНржп)
* [LIMIT ржПржмржВ OFFSET ржмрзНржпрж╛ржЦрзНржпрж╛](#-limit-ржПржмржВ-offset-ржмрзНржпрж╛ржЦрзНржпрж╛)
* [UPDATE ржжрж┐рзЯрзЗ ржбрзЗржЯрж╛ ржкрж░рж┐ржмрж░рзНрждржи](#-update-ржжрж┐рзЯрзЗ-ржбрзЗржЯрж╛-ржкрж░рж┐ржмрж░рзНрждржи)
* [JOIN ржЕржкрж╛рж░рзЗрж╢ржи ржУ ржПрж░ ржЧрзБрж░рзБрждрзНржм](#-join-ржЕржкрж╛рж░рзЗрж╢ржи-ржУ-ржПрж░-ржЧрзБрж░рзБрждрзНржм)
* [GROUP BY ржПржмржВ Aggregation](#-group-by-ржПржмржВ-aggregation)
* [Aggregate ржлрж╛ржВрж╢ржи: COUNT, SUM, AVG](#-aggregate-ржлрж╛ржВрж╢ржи-count-sum-avg)
* [ЁЯУМ Final Thoughts](#-final-thoughts)

---

## ЁЯРШ PostgreSQL ржХрзА?

**PostgreSQL** ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА, ржУржкрзЗржи рж╕рзЛрж░рзНрж╕, ржЕржмржЬрзЗржХрзНржЯ-рж░рж┐рж▓рзЗрж╢ржирж╛рж▓ ржбрзЗржЯрж╛ржмрзЗржЗрж╕ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ рж╕рж┐рж╕рзНржЯрзЗржо (ORDBMS)ред ржПржЯрж┐ ржжрзАрж░рзНржШржжрж┐ржи ржзрж░рзЗржЗ ржмрж┐рж╢рзНржмрж╛рж╕ржпрзЛржЧрзНржпрждрж╛, рж╕рзНржерж╛рзЯрзАрждрзНржм ржПржмржВ ржЙржирзНржиржд ржлрж┐ржЪрж╛рж░рзЗрж░ ржЬржирзНржп ржЬржиржкрзНрж░рж┐рзЯред PostgreSQL ANSI SQL рж╕рзНржЯрзНржпрж╛ржирзНржбрж╛рж░рзНржб ржлрж▓рзЛ ржХрж░рзЗ ржПржмржВ JSON, indexing, full-text search, stored procedures ржЗрждрзНржпрж╛ржжрж┐ рж╕ржорж░рзНржержи ржХрж░рзЗред

---

## ЁЯПЧя╕П ржбрзЗржЯрж╛ржмрзЗрж╕ рж╕рзНржХрж┐ржорж╛ ржХрзА ржПржмржВ ржХрзЗржи ржжрж░ржХрж╛рж░?

**рж╕рзНржХрж┐ржорж╛ (Schema)** рж╣ржЪрзНржЫрзЗ ржПржХржЯрж┐ container ржпрж╛ ржбрзЗржЯрж╛ржмрзЗржЗрж╕ ржЕржмржЬрзЗржХрзНржЯ ржпрзЗржоржи table, view, function ржЗрждрзНржпрж╛ржжрж┐ ржзрж╛рж░ржг ржХрж░рзЗред ржПржЯрж┐ ржбрзЗржЯрж╛рж░ рж╕рзБрж╢рзГржЩрзНржЦрж▓ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛рзЯ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред

### тЬ│я╕П рж╕рзБржмрж┐ржзрж╛рж╕ржорзВрж╣:

* ржПржХржЗ ржбрзЗржЯрж╛ржмрзЗржЗрж╕рзЗ ржнрж┐ржирзНржи рж╕рзНржХрж┐ржорж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖрж▓рж╛ржжрж╛ ржоржбрж┐ржЙрж▓ ржмрж╛ ржЗржЙржЬрж╛рж░ ржорзНржпрж╛ржирзЗржЬ ржХрж░рж╛ ржпрж╛рзЯред
* ржбрзЗржЯрж╛ ржХржиржлрзНрж▓рж┐ржХрзНржЯ ржХржорж╛рзЯред
* рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐ ржУ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ ржЙржирзНржиржд ржХрж░рзЗред

```sql
CREATE SCHEMA accounting;

CREATE TABLE accounting.invoices (
  id SERIAL PRIMARY KEY,
  amount DECIMAL,
  paid BOOLEAN
);
```

---

## ЁЯЧЭя╕П Primary Key ржУ Foreign Key ржмрзНржпрж╛ржЦрзНржпрж╛

### ЁЯФР Primary Key:

ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржПржоржи ржПржХржЯрж┐ ржХрж▓рж╛ржо ржпрж╛ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржбржХрзЗ ржЗржЙржирж┐ржХржнрж╛ржмрзЗ ржЪрж┐рж╣рзНржирж┐ржд ржХрж░рзЗред ржПржЯрж┐ ржХржЦржирзЛ `NULL` ржмрж╛ ржбрзБржкрзНрж▓рж┐ржХрзЗржЯ рж╣рждрзЗ ржкрж╛рж░рзЗ ржирж╛ред

```sql
CREATE TABLE students (
  id SERIAL PRIMARY KEY,
  name TEXT
);
```

### ЁЯФЧ Foreign Key:

ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржПржоржи ржХрж▓рж╛ржо ржпрж╛ ржЕржирзНржп ржЯрзЗржмрж┐рж▓рзЗрж░ Primary Key-ржПрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХ рждрзИрж░рж┐ ржХрж░рзЗред

```sql
CREATE TABLE courses (
  id SERIAL PRIMARY KEY,
  name TEXT,
  student_id INTEGER REFERENCES students(id)
);
```

тЬЕ ржПржЯрж┐ ржбрзЗржЯрж╛рж░ рж╕ржорзНржкрж░рзНржХ ржмржЬрж╛рзЯ рж░рж╛ржЦрзЗ ржПржмржВ ржЗржиржЯрж┐ржЧрзНрж░рж┐ржЯрж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗред

---

## ЁЯФд VARCHAR ржмржирж╛ржо CHAR ржбрзЗржЯрж╛ ржЯрж╛ржЗржк

| ржмрзИрж╢рж┐рж╖рзНржЯрзНржп      | VARCHAR     | CHAR                       |
| -------------- | ----------- | -------------------------- |
| ржжрзИрж░рзНржШрзНржп        | ржкрж░рж┐ржмрж░рзНрждржирж╢рзАрж▓ | ржирж┐рж░рзНржжрж┐рж╖рзНржЯ                  |
| ржмрзНржпржмрж╣рж╛рж░ржпрзЛржЧрзНржпрждрж╛ | ржмрзЗрж╢рж┐ ржиржоржирзАрзЯ  | ржжрзНрж░рзБржд ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕         |
| ржЬрж╛рзЯржЧрж╛          | ржХржо ржирзЗрзЯ      | рж╕ржмрж╕ржорзЯ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржкрж░рж┐ржорж╛ржг ржирзЗрзЯ |

```sql
CREATE TABLE users (
  username VARCHAR(50),
  code CHAR(5)
);
```

ЁЯСЙ `VARCHAR` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ ржбрзЗржЯрж╛ рж╕рзНржЯрзЛрж░рзЗржЬрзЗ рж╕рж╛рж╢рзНрж░рзЯ рж╣рзЯ ржХрж╛рж░ржг ржПржЯрж┐ ржкрзНрж░рзЯрзЛржЬржи ржЕржирзБржпрж╛рзЯрзА ржЬрж╛рзЯржЧрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ, ржЕржирзНржпржжрж┐ржХрзЗ `CHAR` ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржжрзИрж░рзНржШрзНржпрзЗрж░ ржлрж┐ржХрзНрж╕ржб рж╕рзНржкрзЗрж╕ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗ, ржпрж╛ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржжрзИрж░рзНржШрзНржпрзЗрж░ ржбрзЗржЯрж╛рж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржжрзНрж░рзБржд ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕рзЗрж░ ржорж╛ржзрзНржпржорзЗ ржХрж┐ржЫрзБржЯрж╛ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ ржмрзБрж╕рзНржЯ ржХрж░рзЗред

---
## тЭУ WHERE ржХрзНрж▓ржЬрзЗрж░ ржЙржжрзНржжрзЗрж╢рзНржп

`WHERE` ржХрзНрж▓ржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╢рж░рзНржд ржЕржирзБржпрж╛рзЯрзА ржбрзЗржЯрж╛ ржлрж┐рж▓рзНржЯрж╛рж░ ржХрж░рж╛ ржпрж╛рзЯред

```sql
SELECT * FROM employees WHERE department = 'HR';
```

тЮбя╕П ржПржЯрж┐ рж╢рзБржзрзБржорж╛рждрзНрж░ рж╢рж░рзНржд ржорзЗржирзЗ ржЪрж▓рж╛ рж░рзЗржХрж░рзНржб рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред

---

## ЁЯФ╜ LIMIT ржПржмржВ OFFSET ржмрзНржпрж╛ржЦрзНржпрж╛

* **LIMIT**: ржХрждржЯрж┐ рж░рзЗржХрж░рзНржб рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рждрзЗ рж╣ржмрзЗ рж╕рзЗржЯрж┐ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗред
* **OFFSET**: ржХрждржЧрзБрж▓рж┐ рж░рзЗржХрж░рзНржб рж╕рзНржХрж┐ржк ржХрж░рждрзЗ рж╣ржмрзЗ рж╕рзЗржЯрж┐ ржмрж▓рзЗ ржжрзЗрзЯред

```sql
SELECT * FROM orders LIMIT 10 OFFSET 20;
```

тЮбя╕П ржПржЯрж┐ рзирзжржЯрж┐ рж╕рзНржХрж┐ржк ржХрж░рзЗ ржкрж░ржмрж░рзНрждрзА рззрзжржЯрж┐ рж░рзЗржХрж░рзНржб ржжрзЗржЦрж╛ржмрзЗред Pagination-ржПрж░ ржЬржирзНржп ржЦрзБржмржЗ ржЙржкржХрж╛рж░рзАред

---

## ЁЯФз UPDATE ржжрж┐рзЯрзЗ ржбрзЗржЯрж╛ ржкрж░рж┐ржмрж░рзНрждржи

`UPDATE` statement ржжрж┐рзЯрзЗ ржмрж┐ржжрзНржпржорж╛ржи ржбрзЗржЯрж╛ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрж╛рзЯред

```sql
UPDATE employees SET salary = 75000 WHERE id = 5;
```

тЪая╕П **WHERE ржХрзНрж▓ржЬ ржЫрж╛рзЬрж╛ UPDATE ржХрж░рж▓рзЗ ржкрзБрж░рзЛ ржЯрзЗржмрж┐рж▓ ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣рзЯрзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ!**

---

## ЁЯФД JOIN ржЕржкрж╛рж░рзЗрж╢ржи ржУ ржПрж░ ржЧрзБрж░рзБрждрзНржм

`JOIN` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржХрж╛ржзрж┐ржХ ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржорзНржкрж░рзНржХржпрзБржХрзНржд ржбрзЗржЯрж╛ ржПржХрждрзНрж░рзЗ ржЖржирж╛ ржпрж╛рзЯред ржПржЯрж┐ рж░рж┐рж▓рзЗрж╢ржирж╛рж▓ ржбрзЗржЯрж╛ржмрзЗржЗрж╕рзЗрж░ ржЕржирзНржпрждржо рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржлрж┐ржЪрж╛рж░ред ржпржЦржи ржЯрзЗржмрж┐рж▓ржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ ржХрзЛржирзЛ ржлрж┐рж▓рзНржбрзЗ рж╕ржорзНржкрж░рзНржХ ржерж╛ржХрзЗ (ржпрзЗржоржи `foreign key`), рждржЦржи `JOIN` ржЕржкрж╛рж░рзЗрж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржорж░рж╛ рж╕рзЗржЗ рж╕ржорзНржкрж░рзНржХ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рждржерзНржп ржПржХрждрзНрж░рж┐ржд ржХрж░рждрзЗ ржкрж╛рж░рж┐ред

---

### тЬЕ рзз. `INNER JOIN`

`INNER JOIN` рж╢рзБржзрзБ рждржЦржиржЗ рж░рзЗржХрж░рзНржб рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗ ржпржЦржи ржжрзБржЗ ржЯрзЗржмрж┐рж▓рзЗржЗ рж╕ржорзНржкрж░рзНржХржпрзБржХрзНржд ржбрзЗржЯрж╛ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯред

```sql
SELECT orders.id, customers.name
FROM orders
INNER JOIN customers ON orders.customer_id = customers.id;
```

ЁЯзй ржПржЯрж┐ `orders` ржУ `customers` ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕рзЗржЗрж╕ржм рж░рзЗржХрж░рзНржб ржжрзЗржЦрж╛ржмрзЗ ржпрзЗржЧрзБрж▓рзЛрж░ `customer_id` ржПржмржВ `id` ржорж┐рж▓рзЗ ржпрж╛рзЯред

---

### тЬЕ рзи. `LEFT JOIN` (ржмрж╛ `LEFT OUTER JOIN`)

`LEFT JOIN` рж╕ржмрж╕ржорзЯ ржмрж╛ржоржкрж╛рж╢рзЗрж░ (ржкрзНрж░ржержо) ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред ржбрж╛ржи ржкрж╛рж╢рзЗ ржорзЗрж▓рзЗржирж┐ ржПржоржи ржХрзНрж╖рзЗрждрзНрж░рзЗ `NULL` рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред

```sql
SELECT orders.id, customers.name
FROM orders
LEFT JOIN customers ON orders.customer_id = customers.id;
```

ЁЯзй ржПрждрзЗ `orders` ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб ржжрзЗржЦрж╛ржмрзЗ, ржПржоржиржХрж┐ ржпржжрж┐ ржХрзЛржирзЛ ржЕрж░рзНржбрж╛рж░рзЗрж░ `customer_id` `customers` ржЯрзЗржмрж┐рж▓рзЗ ржирж╛-ржУ ржерж╛ржХрзЗред

---

### тЬЕ рзй. `RIGHT JOIN` (ржмрж╛ `RIGHT OUTER JOIN`)

`RIGHT JOIN` ржбрж╛ржиржкрж╛рж╢рзЗрж░ (ржжрзНржмрж┐рждрзАрзЯ) ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред ржмрж╛ржо ржкрж╛рж╢рзЗ ржорзЗрж▓рзЗржирж┐ ржПржоржи ржХрзНрж╖рзЗрждрзНрж░рзЗ `NULL` рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред

```sql
SELECT orders.id, customers.name
FROM orders
RIGHT JOIN customers ON orders.customer_id = customers.id;
```

ЁЯзй ржПрждрзЗ `customers` ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб ржжрзЗржЦрж╛ржмрзЗ, ржПржоржиржХрж┐ ржХрзЛржирзЛ ржХрж╛рж╕рзНржЯржорж╛рж░ ржпржжрж┐ ржХрзЛржирзЛ ржЕрж░рзНржбрж╛рж░ ржирж╛ ржжрж┐рзЯрзЗ ржерж╛ржХрзЗ рждржмрзБржУред

---

### тЬЕ рзк. `FULL JOIN` (ржмрж╛ `FULL OUTER JOIN`)

`FULL JOIN` ржЙржнрзЯ ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред ржпрзЗржЦрж╛ржирзЗ ржорж┐рж▓ ржирзЗржЗ, рж╕рзЗржЦрж╛ржирзЗ `NULL` ржжрж┐рзЯрзЗ ржкрзВрж░ржг ржХрж░рзЗред

```sql
SELECT orders.id, customers.name
FROM orders
FULL JOIN customers ON orders.customer_id = customers.id;
```

ЁЯзй ржПржЯрж┐ ржПржоржи рж╕ржм ржЕрж░рзНржбрж╛рж░ ржжрзЗржЦрж╛ржмрзЗ ржпрзЗржЧрзБрж▓рзЛрж░ ржХрж╛рж╕рзНржЯржорж╛рж░ ржкрж╛ржУрзЯрж╛ ржЧрзЗржЫрзЗ ржмрж╛ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯржирж┐ ржПржмржВ ржПржоржи ржХрж╛рж╕рзНржЯржорж╛рж░ржУ ржжрзЗржЦрж╛ржмрзЗ ржпрж╛ржжрзЗрж░ ржХрзЛржирзЛ ржЕрж░рзНржбрж╛рж░ ржирзЗржЗред

---

### тЬЕ рзл. `CROSS JOIN`

`CROSS JOIN` ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржбрзЗрж░ рж╕рж╛ржерзЗ ржЕржкрж░ ржЯрзЗржмрж┐рж▓рзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржбрзЗрж░ **ржХрж╛рж░рзНржЯрзЗрж╢рж┐рзЯрж╛ржи ржкрзНрж░рзЛржбрж╛ржХрзНржЯ** рждрзИрж░рж┐ ржХрж░рзЗред рж╕рж╛ржзрж╛рж░ржгржд ржпрзЗржЦрж╛ржирзЗ ржжрзБржЗ ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм ржХржорзНржмрж┐ржирзЗрж╢ржи ржжрж░ржХрж╛рж░ рж╣рзЯ, рж╕рзЗржЦрж╛ржирзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯред

```sql
SELECT products.name, categories.name
FROM products
CROSS JOIN categories;
```

ЁЯзй ржкрзНрж░рждрж┐ржЯрж┐ ржкрзНрж░рзЛржбрж╛ржХрзНржЯрзЗрж░ ржЬржирзНржп ржкрзНрж░рждрж┐ржЯрж┐ ржХрзНржпрж╛ржЯрж╛ржЧрж░рж┐рж░ ржХржорзНржмрж┐ржирзЗрж╢ржи ржжрзЗржЦрж╛ржмрзЗред ржпржжрж┐ 5 ржкрзНрж░рзЛржбрж╛ржХрзНржЯ ржУ 3 ржХрзНржпрж╛ржЯрж╛ржЧрж░рж┐ ржерж╛ржХрзЗ, рждрж╛рж╣рж▓рзЗ рззрзлржЯрж┐ рж░рзЗржХрж░рзНржб рж░рж┐ржЯрж╛рж░рзНржи рж╣ржмрзЗред

---

### тЬЕ рзм. `SELF JOIN`

`SELF JOIN` ржПржХржЗ ржЯрзЗржмрж┐рж▓ржХрзЗ ржирж┐ржЬрзЗржЗ `JOIN` ржХрж░рзЗ, ржЕрж░рзНржерж╛рзО ржЯрзЗржмрж┐рж▓рзЗрж░ ржнрзЗрждрж░рзЗржЗ рж╕ржорзНржкрж░рзНржХ ржЦрзЛржБржЬрж╛ рж╣рзЯред

```sql
SELECT a.name AS employee, b.name AS manager
FROM employees a
JOIN employees b ON a.manager_id = b.id;
```

ЁЯзй ржПржЦрж╛ржирзЗ `employees` ржЯрзЗржмрж┐рж▓ржХрзЗ ржжрзБржЗржмрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ, ржпрзЗржЦрж╛ржирзЗ ржПржХржЬржи ржПржоржкрзНрж▓рзЯрж┐рж░ ржорзНржпрж╛ржирзЗржЬрж╛рж░рзЗрж░ ржирж╛ржо ржмрзЗрж░ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗред

---

### ЁЯза ржЙржкрж╕ржВрж╣рж╛рж░

`JOIN` ржЕржкрж╛рж░рзЗрж╢ржи ржбрзЗржЯрж╛ржмрзЗржЗрж╕рзЗ рж╕ржорзНржкрж░рзНржХржпрзБржХрзНржд рждржерзНржп ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржПржмржВ рж░рж┐ржкрзЛрж░рзНржЯ рждрзИрж░рж┐ ржХрж░рж╛рж░ ржЬржирзНржп ржЕржкрж░рж┐рж╣рж╛рж░рзНржпред рж╕ржарж┐ржХ `JOIN` ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рж▓рзЗ ржбрзЗржЯрж╛ ржЖрж░ржУ ржХрж╛рж░рзНржпржХрж░ржнрж╛ржмрзЗ ржЙржкрж╕рзНржерж╛ржкржи ржХрж░рж╛ ржпрж╛рзЯ ржПржмржВ ржкрзНрж░рж╛рж╕ржЩрзНржЧрж┐ржХ ржЗржирж╕рж╛ржЗржЯ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯред

---

## ЁЯУК GROUP BY ржПржмржВ Aggregation

`GROUP BY` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржорж░рж╛ ржбрзЗржЯрж╛ржХрзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржПржХржЯрж┐ ржмрж╛ ржПржХрж╛ржзрж┐ржХ ржХрж▓рж╛ржорзЗрж░ ржнрж┐рждрзНрждрж┐рждрзЗ **ржЧрзНрж░рзБржк** ржХрж░рждрзЗ ржкрж╛рж░рж┐ред ржПржЯрж┐ рждржЦржиржЗ рж╕ржмржЪрзЗрзЯрзЗ ржХрж╛рж░рзНржпржХрж░ рж╣рзЯ ржпржЦржи ржЖржорж░рж╛ ржкрзНрж░рждрж┐ржЯрж┐ ржЧрзНрж░рзБржкрзЗрж░ ржЙржкрж░ ржЕрзНржпрж╛ржЧрзНрж░рж┐ржЧрзЗржЯ (aggregation) ржлрж╛ржВрж╢ржи ржЪрж╛рж▓рж╛рждрзЗ ржЪрж╛ржЗред

### ЁЯзо Aggregation ржХрзА?

Aggregation ржлрж╛ржВрж╢ржирзЗрж░ ржорж╛ржзрзНржпржорзЗ ржЖржорж░рж╛ ржЧрзНрж░рзБржкржХрзГржд ржбрзЗржЯрж╛рж░ ржЙржкрж░ рж╕рж╛рж░рж╛ржВрж╢ рж╣рж┐рж╕рзЗржм ржХрж░рждрзЗ ржкрж╛рж░рж┐тАФржпрзЗржоржи:

* `COUNT()` тАФ ржорзЛржЯ ржХрждржЯрж┐ рж░рзЗржХрж░рзНржб
* `SUM()` тАФ ржорзЛржЯ ржпрзЛржЧржлрж▓
* `AVG()` тАФ ржЧрзЬ ржорж╛ржи
* `MIN()` тАФ рж╕рж░рзНржмржирж┐ржорзНржи ржорж╛ржи
* `MAX()` тАФ рж╕рж░рзНржмрзЛржЪрзНржЪ ржорж╛ржи

### ЁЯОп ржЙржжрж╛рж╣рж░ржг:

```sql
SELECT department, COUNT(*) 
FROM employees 
GROUP BY department;
```

ЁЯУК ржПржЯрж┐ ржкрзНрж░рждрж┐ржЯрж┐ ржбрж┐ржкрж╛рж░рзНржЯржорзЗржирзНржЯрзЗ ржХрзЯржЬржи ржХрж░рзНржорзА ржХрж╛ржЬ ржХрж░рзЗржи рждрж╛ ржжрзЗржЦрж╛рзЯред

---

ржЖрж░ржУ ржПржХржЯрж┐ ржЙржжрж╛рж╣рж░ржг:

```sql
SELECT department, AVG(salary)
FROM employees
GROUP BY department;
```

ЁЯУЙ ржПржЯрж┐ ржкрзНрж░рждрж┐ржЯрж┐ ржбрж┐ржкрж╛рж░рзНржЯржорзЗржирзНржЯрзЗрж░ ржЧрзЬ ржмрзЗрждржи ржирж┐рж░рзНржгрзЯ ржХрж░рзЗред

---

### ЁЯУЭ ржоржирзЗ рж░рж╛ржЦржмрзЗржи:

* `GROUP BY` ржПрж░ ржкрж░ ржпрзЗрж╕ржм ржХрж▓рж╛ржо ржерж╛ржХржмрзЗ, рж╕рзЗржЧрзБрж▓рзЛ `SELECT` рж╕рзНржЯрзЗржЯржорзЗржирзНржЯрзЗ ржЕржмрж╢рзНржпржЗ ржерж╛ржХрждрзЗ рж╣ржмрзЗ (ржЕржержмрж╛ ржЕрзНржпрж╛ржЧрзНрж░рж┐ржЧрзЗржЯ ржлрж╛ржВрж╢ржирзЗрж░ ржоржзрзНржпрзЗ ржерж╛ржХрждрзЗ рж╣ржмрзЗ)ред

* Aggregation ржПрж░ ржкрж░рзЗ `HAVING` ржХрзНрж▓ржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржорж░рж╛ ржЧрзНрж░рзБржкржХрзГржд ржбрзЗржЯрж╛рж░ ржЙржкрж░ рж╢рж░рзНржд ржкрзНрж░рзЯрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░рж┐ред

```sql
SELECT department, COUNT(*) 
FROM employees 
GROUP BY department
HAVING COUNT(*) > 5;
```

ЁЯФН ржПржЯрж┐ рж╢рзБржзрзБржорж╛рждрзНрж░ рж╕рзЗржЗ ржбрж┐ржкрж╛рж░рзНржЯржорзЗржирзНржЯржЧрзБрж▓рзЛ ржжрзЗржЦрж╛ржмрзЗ ржпрзЗржЦрж╛ржирзЗ рзл ржЬржирзЗрж░ ржмрзЗрж╢рж┐ ржХрж░рзНржорзА рж░рзЯрзЗржЫрзЗред

---

## тЬи HAVING ржХрзНрж▓ржЬрзЗрж░ ржмрзНржпржмрж╣рж╛рж░

`HAVING` ржХрзНрж▓ржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯ **ржЧрзНрж░рзБржкржХрзГржд ржбрзЗржЯрж╛рж░ ржЙржкрж░ рж╢рж░рзНржд (condition)** ржкрзНрж░рзЯрзЛржЧ ржХрж░рж╛рж░ ржЬржирзНржпред ржПржЯрж┐ ржЕржирзЗржХржЯрж╛ `WHERE` ржХрзНрж▓ржЬрзЗрж░ ржорждрзЛржЗ ржХрж╛ржЬ ржХрж░рзЗ, ржХрж┐ржирзНрждрзБ ржкрж╛рж░рзНржержХрзНржп рж╣рж▓рзЛ:

### тЪая╕П ржкрж╛рж░рзНржержХрзНржп: `WHERE` vs `HAVING`

| ржмрж┐рж╖рзЯ    | WHERE                    | HAVING                            |
| ------- | ------------------------ | --------------------------------- |
| ржХрж╛ржЬ ржХрж░рзЗ | ржбрзЗржЯрж╛ ржЧрзНрж░рзБржк рж╣ржУрзЯрж╛рж░ **ржЖржЧрзЗ** | ржбрзЗржЯрж╛ ржЧрзНрж░рзБржк рж╣ржУрзЯрж╛рж░ **ржкрж░рзЗ**          |
| ржмрзНржпржмрж╣рж╛рж░ | рж╕рж╛ржзрж╛рж░ржг рж░рзЛ ржлрж┐рж▓рзНржЯрж╛рж░ ржХрж░рждрзЗ   | ржЕрзНржпрж╛ржЧрзНрж░рж┐ржЧрзЗржЯ ржлрж╛ржВрж╢ржирзЗрж░ ржЙржкрж░ рж╢рж░рзНржд ржжрж┐рждрзЗ |

---

### ЁЯза ржХрзЗржи ржкрзНрж░рзЯрзЛржЬржи?

`GROUP BY` ржжрж┐рзЯрзЗ ржпржЦржи ржбрзЗржЯрж╛ ржЧрзНрж░рзБржк ржХрж░рж╛ рж╣рзЯ, рждржЦржи ржЖржорж░рж╛ ржЪрж╛ржЗрждрзЗ ржкрж╛рж░рж┐ рж╢рзБржзрзБржорж╛рждрзНрж░ **ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╢рж░рзНрждрзЗ ржорж┐рж▓ ржерж╛ржХрж╛ ржЧрзНрж░рзБржкржЧрзБрж▓рзЛ** рж░рзЗржЬрж╛рж▓рзНржЯрзЗ ржЖрж╕рзБржХред ржПржЗ ржХрж╛ржЬржЯрж┐ ржХрж░рждрзЗ `HAVING` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред

---

### ЁЯОп ржЙржжрж╛рж╣рж░ржг:

ржзрж░рзБржи, ржЖржорж╛ржжрзЗрж░ ржПржХржЯрж┐ `employees` ржЯрзЗржмрж┐рж▓ ржЖржЫрзЗ ржпрзЗржЦрж╛ржирзЗ ржмрж┐ржнрж┐ржирзНржи ржбрж┐ржкрж╛рж░рзНржЯржорзЗржирзНржЯрзЗ ржХрж░рзНржорзАрж░рж╛ ржХрж╛ржЬ ржХрж░ржЫрзЗржиред ржПржЦржи ржЖржорж░рж╛ рж╢рзБржзрзБржорж╛рждрзНрж░ рж╕рзЗржЗ ржбрж┐ржкрж╛рж░рзНржЯржорзЗржирзНржЯржЧрзБрж▓рзЛрж░ рждржерзНржп ржЪрж╛ржЗ ржпрзЗрж╕ржм ржбрж┐ржкрж╛рж░рзНржЯржорзЗржирзНржЯрзЗ **рзл ржЬржирзЗрж░ ржмрзЗрж╢рж┐ ржХрж░рзНржорзА** рж░рзЯрзЗржЫрзЗред

```sql
SELECT department, COUNT(*) AS total_employees
FROM employees
GROUP BY department
HAVING COUNT(*) > 5;
```

ЁЯФН ржПржЗ ржХрзЛрзЯрзЗрж░рж┐рждрзЗ:

* ржкрзНрж░ржержорзЗ `GROUP BY` ржжрж┐рзЯрзЗ `department` ржЕржирзБржпрж╛рзЯрзА ржбрзЗржЯрж╛ ржЧрзНрж░рзБржк ржХрж░рзЗред
* рждрж╛рж░ржкрж░ `HAVING` ржжрж┐рзЯрзЗ рж╢рзБржзрзБ рж╕рзЗржЗ ржбрж┐ржкрж╛рж░рзНржЯржорзЗржирзНржЯржЧрзБрж▓рзЛ ржжрзЗржЦрж╛рзЯ ржпрзЗржЦрж╛ржирзЗ `COUNT(*) > 5` ржЕрж░рзНржерж╛рзО ржХрж░рзНржорзАрж░ рж╕ржВржЦрзНржпрж╛ рзл-ржПрж░ ржмрзЗрж╢рж┐ред

---

### ЁЯзк ржЖрж░рзЗржХржЯрж┐ ржЙржжрж╛рж╣рж░ржг (SUM ржПрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ):

```sql
SELECT department, SUM(salary) AS total_salary
FROM employees
GROUP BY department
HAVING SUM(salary) > 100000;
```

ЁЯОп ржПржЯрж┐ ржжрзЗржЦрж╛ржмрзЗ рж╕рзЗржЗрж╕ржм ржбрж┐ржкрж╛рж░рзНржЯржорзЗржирзНржЯ ржпрж╛ржжрзЗрж░ рж╕ржорзНржорж┐рж▓рж┐ржд ржмрзЗрждржи рзз рж▓рж╛ржЦрзЗрж░ ржмрзЗрж╢рж┐ред

---

### тЬЕ ржЙржкрж╕ржВрж╣рж╛рж░:

* `HAVING` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣рзЯ **Aggregation ржПрж░ ржкрж░рзЗрж░ рж╢рж░рзНржд** ржлрж┐рж▓рзНржЯрж╛рж░ ржХрж░рж╛рж░ ржЬржирзНржпред
* ржПржЯрж┐ `GROUP BY` ржПрж░ рж╕рж╛ржерзЗ **ржЬрзЛрзЬрж╛рзЯ** ржХрж╛ржЬ ржХрж░рзЗред
* рж╕рж░рж╛рж╕рж░рж┐ `COUNT()`, `SUM()`, `AVG()` ржЗрждрзНржпрж╛ржжрж┐ ржлрж╛ржВрж╢ржирзЗрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ рж░рзЗржЬрж╛рж▓рзНржЯ ржлрж┐рж▓рзНржЯрж╛рж░ ржХрж░рж╛ ржпрж╛рзЯред

---

## ЁЯФв Aggregate ржлрж╛ржВрж╢ржи: COUNT, SUM, AVG

| ржлрж╛ржВрж╢ржи     | ржХрж╛ржЬ               |
| --------- | ----------------- |
| `COUNT()` | ржорзЛржЯ рж░рзЗржХрж░рзНржб ржЧржгржирж╛   |
| `SUM()`   | рж╕ржВржЦрзНржпрж╛ржЧрзБрж▓рзЛрж░ ржпрзЛржЧржлрж▓ |
| `AVG()`   | ржЧрзЬ ржорж╛ржи ржмрзЗрж░ ржХрж░рзЗ    |

```sql
SELECT COUNT(*) FROM orders;
SELECT SUM(price) FROM products;
SELECT AVG(salary) FROM employees;
```

тЬЕ ржПржЗ ржлрж╛ржВрж╢ржиржЧрзБрж▓рзЛ рж░рж┐ржкрзЛрж░рзНржЯрж┐ржВ ржУ ржмрж┐рж╢рзНрж▓рзЗрж╖ржгрзЗрж░ ржЬржирзНржп ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред

---

### тЮХ ржЕржирзНржпрж╛ржирзНржп Aggregate ржлрж╛ржВрж╢ржи:

| ржлрж╛ржВрж╢ржи          | ржХрж╛ржЬ                                                                     |
| -------------- | ----------------------------------------------------------------------- |
| `MIN()`        | ржХрзЛржирзЛ ржХрж▓рж╛ржорзЗрж░ рж╕рж░рзНржмржирж┐ржорзНржи ржорж╛ржи ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗ                                  |
| `MAX()`        | ржХрзЛржирзЛ ржХрж▓рж╛ржорзЗрж░ рж╕рж░рзНржмрзЛржЪрзНржЪ ржорж╛ржи ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗ                                   |
| `STRING_AGG()` | ржПржХрж╛ржзрж┐ржХ ржЯрзЗржХрзНрж╕ржЯ ржнрзНржпрж╛рж▓рзБ ржПржХрждрзНрж░рзЗ рж╕рзНржЯрзНрж░рж┐ржВ ржЖржХрж╛рж░рзЗ ржпрзЛржЧ ржХрж░рзЗ (PostgreSQL-specific) |
| `BOOL_AND()`   | рж╕ржорж╕рзНржд рж░рзЗржХрж░рзНржбрзЗ Boolean ржорж╛ржи `TRUE` ржХрж┐ржирж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рзЗ                         |
| `BOOL_OR()`    | ржХрзЛржирзЛ рж░рзЗржХрж░рзНржбрзЗ Boolean ржорж╛ржи `TRUE` ржЖржЫрзЗ ржХрж┐ржирж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рзЗ                      |

```sql
SELECT MIN(price) FROM products;
SELECT MAX(salary) FROM employees;
SELECT STRING_AGG(name, ', ') FROM customers;
SELECT BOOL_AND(is_active) FROM users;
SELECT BOOL_OR(is_admin) FROM users;
```

ЁЯУК ржПржЗ ржЕрждрж┐рж░рж┐ржХрзНржд ржлрж╛ржВрж╢ржиржЧрзБрж▓рзЛ ржбрзЗржЯрж╛ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржУ ржЬржЯрж┐рж▓ рж░рж┐ржкрзЛрж░рзНржЯ рждрзИрж░рж┐рждрзЗ ржмрж┐рж╢рзЗрж╖ржнрж╛ржмрзЗ рж╕рж╣рж╛рзЯржХред

---
